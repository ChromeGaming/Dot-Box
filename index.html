<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="./styles/mainstyle.css" />
		<link rel="stylesheet" href="./styles/default.style.css" />
		<link rel="stylesheet" href="./styles/index.style.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
		/>
		<!-- <script defer src="./js/edge.js"></script> -->
		<!-- <script defer src="./js/box.js"></script> -->
		<!-- <script defer src="./js/board.js"></script> -->
		<!-- <script defer src="./js/game.js"></script> -->
		<script defer src="./js/validation.js"></script>
		<!-- JavaScript files -->
		<script defer src="./js/index.js"></script>
		<!-- Logo of the game -->
		<link rel="icon" href="./assets/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
		/>
		<script src="./js/loader.js"></script>
		<script src="./js/emoji.js"></script>
		<title>Dots & Boxes Game</title>
		<style>
			.sticky-button {
				/* position: fixed;
				top: 50%;
				left: 20px;
				transform: translateY(-50%);
				background-color: #007bff;
				color: white;
				border: none;
				padding: 10px 20px;
				border-radius: 50%;
				font-size: 16px;
				cursor: pointer; */

				transform: rotate(-90deg);
				padding: 12px;

				position: fixed;
				left: 0px;
				font-family: verdana;
				font-size: 15px;
				color: rgb(255, 255, 255);
				background: rgb(245, 146, 2);
				z-index: 999;
				cursor: pointer;
				text-align: center;
				text-decoration: none;
				border-radius: 0px 0px 5px 5px;
				margin-left: -34.5px;
				top: 50%;
				margin-top: -16px;
				text-shadow: none;
			}

			.sticky-button:hover {
				background-color: grey;
			}

			.form-container {
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				z-index: 999;
				background-color: rgba(255, 255, 255, 0.9);
			}

			.form-content {
				position: relative;
				cursor: move;
				background: linear-gradient(135deg, #ff9a9e, #fad0c4, #ffecd2);
				padding: 20px;
				border-radius: 20px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
				text-align: left;
				width: 400px;
				max-height: 80vh;
				overflow-y: auto;
				color: #333;
				border: 5px solid transparent;
				border-image: linear-gradient(
					45deg,
					#ff9a9e,
					#fad0c4,
					#ffecd2,
					#ff9a9e
				);
				border-image-slice: 1;
				animation: formAppear 0.5s ease-out;
			}

			@keyframes formAppear {
				from {
					opacity: 0;
					transform: scale(0.8);
				}
				to {
					opacity: 1;
					transform: scale(1);
				}
			}

			.sub {
				margin-top: 5px;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.sub h5 {
				font-size: 24px;
				color: #ff6b6b;
				margin: 0;
				font-family: "Comic Sans MS", cursive, sans-serif;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
			}

			.close-button {
				font-size: 24px;
				color: #ff6b6b;
				cursor: pointer;
				transition: transform 0.3s ease;
			}

			.close-button:hover {
				transform: rotate(90deg) scale(1.2);
			}

			.wrapper {
				background: linear-gradient(45deg, #f6d365, #fda085);
				border-radius: 15px;
				padding: 15px;
				margin-bottom: 15px;
				max-width: 340px;
				width: 100%;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
			}

			.content {
				padding: 15px;
				display: flex;
				align-items: center;
				flex-direction: column;
			}

			.outer {
				height: 135px;
				width: 135px;
				overflow: hidden;
			}

			.emojis {
				height: 500%;
				display: flex;
				flex-direction: column;
			}

			.emojis li {
				height: 20%;
				width: 100%;
				list-style: none;
				transition: all 0.3s ease;
			}

			.emojis li img {
				height: 100%;
				width: 100%;
			}

			#star-2:checked ~ .content .emojis .slideImg {
				margin-top: -135px;
			}

			#star-3:checked ~ .content .emojis .slideImg {
				margin-top: -270px;
			}

			#star-4:checked ~ .content .emojis .slideImg {
				margin-top: -405px;
			}

			#star-5:checked ~ .content .emojis .slideImg {
				margin-top: -540px;
			}

			.stars {
				margin-top: 20px;
			}

			.stars label {
				font-size: 32px;
				margin: 0 3px;
				color: #ccc;
				cursor: pointer;
				transition: color 0.3s ease, transform 0.3s ease;
			}

			.stars label:hover {
				transform: scale(1.2) rotate(15deg);
			}

			#star-1:hover ~ .content .stars .star-1,
			#star-1:checked ~ .content .stars .star-1,
			#star-2:hover ~ .content .stars .star-1,
			#star-2:hover ~ .content .stars .star-2,
			#star-2:checked ~ .content .stars .star-1,
			#star-2:checked ~ .content .stars .star-2,
			#star-3:hover ~ .content .stars .star-1,
			#star-3:hover ~ .content .stars .star-2,
			#star-3:hover ~ .content .stars .star-3,
			#star-3:checked ~ .content .stars .star-1,
			#star-3:checked ~ .content .stars .star-2,
			#star-3:checked ~ .content .stars .star-3,
			#star-4:hover ~ .content .stars .star-1,
			#star-4:hover ~ .content .stars .star-2,
			#star-4:hover ~ .content .stars .star-3,
			#star-4:hover ~ .content .stars .star-4,
			#star-4:checked ~ .content .stars .star-1,
			#star-4:checked ~ .content .stars .star-2,
			#star-4:checked ~ .content .stars .star-3,
			#star-4:checked ~ .content .stars .star-4,
			#star-5:hover ~ .content .stars .star-1,
			#star-5:hover ~ .content .stars .star-2,
			#star-5:hover ~ .content .stars .star-3,
			#star-5:hover ~ .content .stars .star-4,
			#star-5:hover ~ .content .stars .star-5,
			#star-5:checked ~ .content .stars .star-1,
			#star-5:checked ~ .content .stars .star-2,
			#star-5:checked ~ .content .stars .star-3,
			#star-5:checked ~ .content .stars .star-4,
			#star-5:checked ~ .content .stars .star-5 {
				color: #ffd700;
				text-shadow: 0 0 5px #ffd700;
				animation: starPulse 0.5s infinite alternate;
			}

			@keyframes starPulse {
				from {
					transform: scale(1);
				}
				to {
					transform: scale(1.1);
				}
			}

			.footer {
				border-top: 2px dashed #ff6b6b;
				background: linear-gradient(45deg, #ffecd2, #fcb69f);
				width: 100%;
				height: 40px;
				padding: 0 15px;
				border-radius: 0 0 15px 15px;
				display: flex;
				align-items: center;
				justify-content: space-between;
			}

			.footer span {
				font-size: 14px;
				font-weight: 600;
				color: #333;
				font-family: "Comic Sans MS", cursive, sans-serif;
			}

			input[type="radio"] {
				display: none;
			}

			textarea,
			input[type="text"],
			input[type="email"] {
				background-color: #fff;
				border: 2px solid #ff9a9e;
				border-radius: 10px;
				color: #333;
				padding: 10px;
				width: 100%;
				margin-bottom: 10px;
				box-sizing: border-box;
				font-size: 14px;
				transition: all 0.3s ease;
			}

			textarea:focus,
			input[type="text"]:focus,
			input[type="email"]:focus {
				border-color: #ff6b6b;
				outline: none;
				transform: scale(1.02);
			}

			.main {
				display: flex;
				justify-content: space-between;
			}

			.main input {
				width: 48%;
			}

			.submitbtn {
				display: flex;
				justify-content: space-between;
				margin-top: 15px;
			}

			.button {
				background: linear-gradient(45deg, #4ecdc4, #45b7aa);
				color: #fff;
				border: none;
				padding: 10px 15px;
				border-radius: 25px;
				cursor: pointer;
				font-size: 16px;
				font-weight: bold;
				transition: all 0.3s ease;
				font-family: "Comic Sans MS", cursive, sans-serif;
			}

			.button:hover {
				background: linear-gradient(45deg, #45b7aa, #4ecdc4);
				transform: scale(1.05);
				box-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
			}

			.footer .text::before {
				content: "Rate your experience";
			}

			.footer .numb::before {
				content: "0 out of 5";
			}

			#star-1:checked ~ .footer .text::before {
				content: "I just hate it";
			}

			#star-1:checked ~ .footer .numb::before {
				content: "1 out of 5";
			}

			#star-2:checked ~ .footer .text::before {
				content: "I don't like it";
			}

			#star-2:checked ~ .footer .numb::before {
				content: "2 out of 5";
			}

			#star-3:checked ~ .footer .text::before {
				content: "This is awesome";
			}

			#star-3:checked ~ .footer .numb::before {
				content: "3 out of 5";
			}

			#star-4:checked ~ .footer .text::before {
				content: "I just like it";
			}

			#star-4:checked ~ .footer .numb::before {
				content: "4 out of 5";
			}

			#star-5:checked ~ .footer .text::before {
				content: "I just love it";
			}

			#star-5:checked ~ .footer .numb::before {
				content: "5 out of 5";
			}

			/* Styles for draggability */
			.form-container.dragging {
				user-select: none;
				cursor: grabbing;
			}

			/* Responsive adjustments */
			@media (max-width: 480px) {
				.form-content {
					width: 90%;
					max-width: 350px;
				}

				.sub h5 {
					font-size: 20px;
				}

				.stars label {
					font-size: 28px;
				}

				.button {
					font-size: 14px;
					padding: 8px 12px;
				}
			}
			.button1 {
				display: block;
				font-size: 0.7em;
				padding: 12px;
				height: 56.5px;
				margin-top: 6.4px;
			}

			.circle {
				position: absolute;
				width: 25px;
				height: 25px;
				border-radius: 50%;
				pointer-events: none;
				background: radial-gradient(circle, #ff6600, #ffb584a5);
				transition: transform 0.1s, left 0.1s, top 0.1s;
			}

			.circle-container {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				pointer-events: none;
				z-index: 9999;
			}

			@media (max-width: 768px) {
				.circle-container {
					display: none;
				}
			}

			@media (max-width: 768px) {
				.whole-background {
					position: absolute;
					overflow: visible;
					gap: 30px;
					top: 25vh;
				}
				body {
					overflow: visible !important;
				}
				.settings .form {
					padding: 1rem 6rem;
					margin: 4px 13rem;
					left: 15%;
					position: relative;
				}
				.settings {
					top: -33px;
				}
			}
		</style>
	</head>

	<body>
		<div id="loader">
			<div class="spinner"></div>
		</div>

		<audio id="background-music" autoplay loop>
			<source src="./assets/sounds/bgMusic.mp3" type="audio/mpeg" />
		</audio>
		<div class="settings">
			<video autoplay muted class="video" loop id="myVideo">
				<source src="/assets/videos/1.mp4" type="video/mp4" />
			</video>
			<div class="whole-background">
				<nav class="navbarr">
					<div class="logo">
						<a href="#">Dots & Boxes ⚄</a>
					</div>
					<ul class="nav-links">
						<li><a href="index.html">Home</a></li>
						<li><a href="./pages/about.html">About Us</a></li>
						<li><a href="./pages/FAQs.html">FAQs</a></li>
						<li><a href="./pages/contributors.html">Contributors</a></li>
						<li><a href="./pages/game.html">Let's Go</a></li>
					</ul>
					<div class="hamburger">
						<i class="fas fa-bars"></i>
					</div>
				</nav>
				<button class="sticky-button" onclick="openForm()">Feedback</button>
				<div id="formContainer" class="form-container">
					<div class="form-content">
						<div class="sub">
							<h5>Feedback Form</h5>
							<span class="close-button" onclick="closeForm()">&times;</span>
						</div>
						<div class="wrapper">
							<input type="radio" name="rate" id="star-1" />
							<input type="radio" name="rate" id="star-2" />
							<input type="radio" name="rate" id="star-3" />
							<input type="radio" name="rate" id="star-4" />
							<input type="radio" name="rate" id="star-5" />
							<div class="content">
								<div class="outer">
									<div class="emojis">
										<li class="slideImg">
											<img src="./assets/images/emojis/emoji-1.png" alt="" />
										</li>
										<li>
											<img src="./assets/images/emojis/emoji-2.png" alt="" />
										</li>
										<li>
											<img src="./assets/images/emojis/emoji-3.png" alt="" />
										</li>
										<li>
											<img src="./assets/images/emojis/emoji-4.png" alt="" />
										</li>
										<li>
											<img src="./assets/images/emojis/emoji-5.png" alt="" />
										</li>
									</div>
								</div>
								<div class="stars">
									<label for="star-1" class="star-1 fas fa-star"></label>
									<label for="star-2" class="star-2 fas fa-star"></label>
									<label for="star-3" class="star-3 fas fa-star"></label>
									<label for="star-4" class="star-4 fas fa-star"></label>
									<label for="star-5" class="star-5 fas fa-star"></label>
								</div>
							</div>
							<div class="footer">
								<span class="text"></span>
								<span class="numb"></span>
							</div>
						</div>

						<br /><br />
						<form id="feedbackForm">
							<label for="feedback">Describe your feedback:</label><br />
							<textarea
								id="feedback"
								required
								name="feedback"
								rows="4"
								cols="55"
							></textarea
							><br /><br />
							<label for="firstName">Name</label><br />
							<div class="main">
								<input
									type="text"
									required
									id="firstName"
									name="firstName"
									placeholder="First Name"
								/><br /><br />
								<input
									type="email"
									required
									id="email"
									name="email"
									placeholder="Email"
								/><br /><br />
							</div>
							<div class="submitbtn">
								<input type="submit" value="Submit" class="button" />
								<input type="reset" value="Reset" class="button" />
							</div>
						</form>
					</div>
				</div>
				<div id="thankYouPopup" class="popup hidden">
					<div class="popup-content">
						<span class="close-button" onclick="closeThankYouPopup()"
							>&times;</span
						>
						<h3>Thank You!</h3>
						<p>Your feedback has been submitted.</p>
					</div>
				</div>
				<script>
					const formContainer = document.querySelector(".form-container");
					const formContent = document.querySelector(".form-content");

					let isDragging = false;
					let startX, startY, initialX, initialY;

					formContent.addEventListener("mousedown", startDragging);
					document.addEventListener("mousemove", drag);
					document.addEventListener("mouseup", stopDragging);

					function startDragging(e) {
						if (e.target === formContent || e.target.closest(".sub")) {
							isDragging = true;
							formContainer.classList.add("dragging");

							startX = e.clientX - formContainer.offsetLeft;
							startY = e.clientY - formContainer.offsetTop;

							initialX = formContainer.offsetLeft;
							initialY = formContainer.offsetTop;
						}
					}

					function drag(e) {
						if (isDragging) {
							e.preventDefault();

							const currentX = e.clientX - startX;
							const currentY = e.clientY - startY;

							formContainer.style.left = currentX + "px";
							formContainer.style.top = currentY + "px";
						}
					}

					function stopDragging() {
						isDragging = false;
						formContainer.classList.remove("dragging");
					}

					// Prevent default drag behaviors
					formContainer.addEventListener("dragstart", (e) =>
						e.preventDefault()
					);
					document
						.getElementById("feedbackForm")
						.addEventListener("submit", function (event) {
							event.preventDefault();
							showThankYouPopup();
							this.reset();
						});

					function showThankYouPopup() {
						document.getElementById("thankYouPopup").classList.remove("hidden");
					}

					function closeThankYouPopup() {
						document.getElementById("thankYouPopup").classList.add("hidden");
					}
				</script>

				<div class="form">
					<!-- <h1 class="heading">▂ ▄ ▅ ▆ ▇ █ MAXIMISE BOXES!! █ ▇ ▆ ▅ ▄ ▂</h1> -->
					<h1 class="heading">▂ ▄ █ MAXIMISE BOXES!! █ ▄ ▂</h1>
					<h3 class="instructions-heading">Instructions</h3>
					<p class="instructions">
						1. Select the number of rows, columns and players. <br />
						2. The player who has maximum number of boxes on board is the
						winner. <br />
						3. Players will switch after every turn. But the player who has
						filled the last box, will get one extra chance consecutively. <br />
					</p>
					<a href="./pages/howtoplay.html" class="button"
						>Read Detailed Instructions</a
					>
				</div>
				<div class="form">
					<div class="right-background">
						<div class="form-item">
							<label for="theme-select">Select Theme:</label>
							<select id="theme-select">
								<option value="1">Default</option>
								<option value="2">Theme 1</option>
								<option value="3">Theme 2</option>
							</select>
						</div>
						<div class="form-item">
							<label for="rows"
								>Rows : <span class="details">(between 5 and 30)</span></label
							>

							<input type="number" id="rows" min="5" max="30" value="6" />
							<span class="error"></span>
						</div>

						<div class="form-item">
							<label for="columns"
								>Columns :
								<span class="details">(between 5 and 30)</span></label
							>
							<input type="number" id="columns" min="5" max="30" value="6" />
							<span class="error"></span>
						</div>

						<div class="form-item">
							<label for="players-count"
								>Players : <span class="details">(between 2 and 6)</span></label
							>
							<input
								type="number"
								id="players-count"
								min="2"
								max="6"
								value="2"
							/>
							<span class="player"></span>
						</div>

						<div class="button-container">
							<a
								href="./pages/game.html"
								class="start-btn button1"
								id="start-btn"
								aria-label="START"
							>
								START
							</a>
							<button class="reset-btn button1" id="reset-btn">RESET</button>
							<button id="music-toggle" onclick="toggleMusic()">
								Music Off
							</button>
						</div>
					</div>
				</div>
			</div>
			<div class="author">
				<div class="fotbar">
					<a href="./pages/howtoplay.html">HowToPlay?</a>
					<a href="./pages/termsofservice.html">TermsOfService</a>
					<a href="./pages/privacypolicy.html">PrivacyPolicy</a>
					<a href="./pages/licensing.html">Licensing</a>
				</div>
				<div id = "copyright">
					&copy;
					<script>
						document.write(new Date().getFullYear());
					</script>
					Made by ❤️
				</div>
				<a href="https://github.com/ChromeGaming">Chrome Gaming</a>
				<div class="social-icons">
					<a href="https://github.com/ChromeGaming/Dot-Box" target="_blank"
						><i class="fab fa-github"></i
					></a>
					<a href="https://discord.gg/2HTCFrSvPB" target="_blank"
						><i class="fab fa-discord"></i
					></a>
				</div>
			</div>
		</div>
		<style>
			#copyright {
				color: white;
			}
		</style>
		<!-- <div class="flex">
			<div class="board"></div>
			<div class="score">
				<div class="players"></div>
				<video autoplay muted class="video" loop id="myVideo2">
					<source src="/assets/videos/2.mp4" type="video/mp4" />
				</video>
				<div class="player-turn">
					<div class="bg"><span class="name">PlayerX</span>'s turn</div>
				</div>
				<div class="flex-btn">
					<button class="mute-btn button">Mute</button>
					<button class="restart-btn button">Restart</button>
				</div>
			</div>
		</div> -->
		<script>
			var isPlaying = true; // Start with the music playing by default
			function toggleMusic() {
				var audio = document.getElementById("background-music");
				var button = document.getElementById("music-toggle");
				if (isPlaying) {
					audio.pause();
					button.textContent = "Music On";
				} else {
					audio.play();
					button.textContent = "Music Off";
				}
				isPlaying = !isPlaying;
			}

			window.onload = function () {
				var audio = document.getElementById("background-music");
				audio.play();
				var button = document.getElementById("music-toggle");
				button.textContent = "Music Off";
			};
		</script>

		<script>
			document
				.getElementById("reset-btn")
				.addEventListener("click", function () {
					document.getElementById("rows").value = "";
					document.getElementById("columns").value = "";
					document.getElementById("players-count").value = "";
				});
		</script>

		<div class="circle-container">
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
		</div>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				const coords = { x: 0, y: 0 };
				const circles = document.querySelectorAll(".circle");

				circles.forEach(function (circle) {
					circle.x = 0;
					circle.y = 0;
				});

				window.addEventListener("mousemove", function (e) {
					coords.x = e.pageX;
					coords.y = e.pageY - window.scrollY; // Adjust for vertical scroll position
				});

				function animateCircles() {
					let x = coords.x;
					let y = coords.y;

					circles.forEach(function (circle, index) {
						circle.style.left = `${x - 12}px`;
						circle.style.top = `${y - 12}px`;
						circle.style.transform = `scale(${
							(circles.length - index) / circles.length
						})`;

						const nextCircle = circles[index + 1] || circles[0];
						circle.x = x;
						circle.y = y;

						x += (nextCircle.x - x) * 0.3;
						y += (nextCircle.y - y) * 0.3;
					});

					requestAnimationFrame(animateCircles);
				}

				animateCircles();
			});
		</script>
		<script
			src="//code.tidio.co/fdylvmddtyb7vzsk5frdt3ncrk6cwobs.js"
			async
		></script>
	</body>

	<script src="https://cdn.jotfor.ms/s/umd/latest/for-form-embed-handler.js"></script>
</html>
